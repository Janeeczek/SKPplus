<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<script src="/vendor/jquery/jquery.min.js"></script>
<head>

</head>
<body>
<div th:fragment="wyswietlInfo">

    <div class="container flex-grow-1 container-p-y">
        <div th:if="${#ctx.containsVariable('SuccessMessage')}" th:text="${SuccessMessage}" class="alert alert-info text-center"></div>
        <div th:if="${#ctx.containsVariable('ErrorMessage')}" th:text="${ErrorMessage}" class="alert alert-danger text-center" onautocomplete=""></div>
        <div class="media align-items-center py-3 mb-3">
            <img th:src="*{'data:image/png;base64,'+user.getByte64Image()}" alt="" class="d-block ui-w-100 rounded-circle" style="width: 30%" >
            <div class="media-body ml-4">
                <h4 class="font-weight-bold mb-0"th:text="${user.getFirstname() + ' ' + user.getLastname()}">aaa<span class="text-muted font-weight-normal">@nick</span></h4>
                <div class="text-muted mb-2"th:text="${'ID: '+user.getId()}">ID: 3425433</div>
                <a th:if="${currentUser.getUsername() == user.getUsername() or currentUser.isAdmin()}" href="/" th:href="@{/profile/edit?{u} (u=${user.getUsername()})}" class="btn btn-primary btn-sm">Edytuj</a>&nbsp;
                <a  class="btn btn-default btn-sm icon-btn"><i class="fa fa-mail"></i></a>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <table class="table user-view-table m-0">
                    <tbody>

                    <tr>
                        <td>Data rejestracji:</td>
                        <td th:text="${#temporals.format(user.getRegistrationDate(), 'HH:mm dd-MM-yyyy')}">>01/23/2017</td>
                    </tr>
                    <tr>
                        <td>Ostatnia aktywność:</td>
                        <td th:text="${#temporals.format(user.getLastActiveDate(), 'HH:mm dd-MM-yyyy')}">01/23/2018 (14 dni temu)</td>
                    </tr>
                    <tr>
                        <td>Zweryfikowany:</td>

                        <div th:if="${user.isEnabled()}">
                            <td><span class="fa fa-check text-primary"></span>&nbsp; Tak</td>
                        </div>
                        <div th:unless="${user.isEnabled()}">
                            <td><span class="fa fa-times-circle text-primary"></span>&nbsp; Nie</td>
                        </div>
                    </tr>
                    <tr>
                        <td>Rola:</td>
                        <td th:text="${user.getFormattedRoles()}"></td>
                    </tr>
                    <tr>
                        <td>Status:</td>
                        <td>
                            <div th:if="${activeService.isActive(user.getUsername())}">
                                <span class="font-weight-bold text-success">Aktywny</span>
                            </div>
                            <div th:unless="${activeService.isActive(user.getUsername())}">
                                <span class="font-weight-bold text-danger">Nie aktywny</span>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <hr class="border-light m-0">
            <div class="table-responsive">
                <table class="table card-table m-0">
                    <tbody>
                    <tr>
                        <th>Twoje pozwolenia</th>
                        <th>Statystyki</th>
                        <th>Dodawanie raportów</th>
                        <th>Odczyt raportów</th>
                        <th>Usuwanie raportów</th>
                    </tr>
                    <tr>
                        <td>Ty</td>
                        <td><span class="fa fa-check text-primary"></span></td>
                        <td><span class="fa fa-times text-light"></span></td>
                        <td><span class="fa fa-times text-light"></span></td>
                        <td><span class="fa fa-times text-light"></span></td>

                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card">
            <div class="row no-gutters row-bordered">
                <div class="d-flex col-md align-items-center">
                    <a href="javascript:void(0)" class="card-body d-block text-body">
                        <div class="text-muted small line-height-1">Dodaj coś tutaj</div>
                        <div class="text-xlarge">125</div>
                    </a>
                </div>
                <div class="d-flex col-md align-items-center">
                    <a href="javascript:void(0)" class="card-body d-block text-body">
                        <div class="text-muted small line-height-1">Dodaj coś tutaj</div>
                        <div class="text-xlarge">534</div>
                    </a>
                </div>
                <div class="d-flex col-md align-items-center">
                    <a href="javascript:void(0)" class="card-body d-block text-body">
                        <div class="text-muted small line-height-1">Dodaj coś tutaj</div>
                        <div class="text-xlarge">236</div>
                    </a>
                </div>
            </div>
            <hr class="border-light m-0">
            <div class="card-body">

                <table class="table user-view-table m-0">
                    <tbody>
                    <tr>
                        <td>Nazwa użytkownika:</td>
                        <td th:text="${user.getUsername()}">nmaxwell</td>
                    </tr>
                    <tr>
                        <td>Imię i nazwisko:</td>
                        <td th:text="${user.getFirstname() + ' ' + user.getLastname()}">Nelle Maxwell</td>
                    </tr>
                    <tr>
                        <td>E-mail:</td>
                        <td th:text="${user.getEmail()}">nmaxwell@mail.com</td>
                    </tr>
                    <tr>
                        <td>Firma:</td>
                        <td>PTHW sp. z o.o.</td>
                    </tr>
                    </tbody>
                </table>


                <h6 class="mt-4 mb-3">Dane personalne</h6>

                <table class="table user-view-table m-0">
                    <tbody>
                    <tr>
                        <td>Data urodzin:</td>
                        <td th:text="${user.getBirthDate()}">May 3, 1995</td>
                    </tr>
                    </tbody>
                </table>

                <h6 class="mt-4 mb-3">Kontakt</h6>

                <table class="table user-view-table m-0">
                    <tbody>
                    <tr>
                        <td>Numer telefonu:</td>
                        <td th:text="${user.getTelNumber()}">+48 555 555 555</td>
                    </tr>
                    </tbody>
                </table>

            </div>
        </div>

    </div>
</div>
<div th:fragment="defaultuser">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Centrum</h1>
    </div>

    <!-- Content Row -->
    <div class="row">

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                Przychody (Całość)</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800" th:text="${allIncome}"></div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                Przychody (Rocznie)</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">215,000zł</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
-->



        <!-- Pending Requests Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                Pracownicy Online</div>
                            <div th:text="${activeEmp}" class="h5 mb-0 font-weight-bold text-gray-800"></div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-comments fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Row -->

    <div class="row">

        <!-- Area Chart -->
        <div class="col-xl-8 col-lg-7">
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Wpływy z badan technicznych w ciągu ostatnich 12 miesięcy</h6>
                    <div class="dropdown no-arrow">
                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                             aria-labelledby="dropdownMenuLink">
                            <div class="dropdown-header">Więcej opcji:</div>
                            <a class="dropdown-item" href="#">Pobierz dane</a>
                            <a class="dropdown-item" href="#">Odśwież</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Zamknij</a>
                        </div>
                    </div>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="chart-area">
                        <canvas id="myAreaChart2"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pie Chart -->
        <div class="col-xl-4 col-lg-5">
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Rodzaje samochodów</h6>
                    <div class="dropdown no-arrow">
                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink1"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                             aria-labelledby="dropdownMenuLink1">
                            <div class="dropdown-header">Więcej opcji:</div>
                            <a class="dropdown-item" href="#">Pobierz dane</a>
                            <a class="dropdown-item" href="#">Odśwież</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Zamknij</a>
                        </div>
                    </div>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="chart-pie pt-4 pb-2">
                        <canvas id="myPieChart"></canvas>
                    </div>
                    <div class="mt-4 text-center small">
                                        <span class="mr-2">
                                            <i class="fas fa-circle text-primary"></i> Osobowe
                                        </span>
                        <span class="mr-2">
                                            <i class="fas fa-circle text-success"></i> Ciężarowe
                                        </span>
                        <span class="mr-2">
                                            <i class="fas fa-circle text-info"></i> Inne
                                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<div th:fragment="liczbaBadanuser">



    <!-- Content Row -->

    <div class="row">

        <!-- Area Chart -->
        <div class="col-xl col-lg-7">
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Wpływy z badań technicznych w ciągu ostatnich 12 miesięcy</h6>
                    <div class="dropdown no-arrow">
                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                             aria-labelledby="dropdownMenuLink">
                            <div class="dropdown-header">Więcej opcji:</div>
                            <a class="dropdown-item" href="#">Pobierz dane</a>
                            <a class="dropdown-item" href="#">Odśwież</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Zamknij</a>
                        </div>
                    </div>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="chart-area">
                        <canvas id="myAreaChart2"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <!-- Area Chart -->
        <div class="col-xl col-lg-7">
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Wpływy z badań technicznych w ciągu ostatnich 100 dni</h6>

                    <div class="dropdown no-arrow">
                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink3"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                             aria-labelledby="dropdownMenuLink3">
                            <div class="dropdown-header">Więcej opcji:</div>
                            <a class="dropdown-item" href="#">Pobierz dane</a>
                            <a class="dropdown-item" href="#">Odśwież</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Zamknij</a>
                        </div>
                    </div>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <div class="chart-area">
                        <canvas id="myAreaChart1"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<div th:fragment="defaultksiegowosc">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Centrum</h1>
    </div>

    <!-- Content Row -->
    <div class="row">

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-4 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-20 py-2">
                <div class="card-body">
                    <div class="card-body">
                        <h5 class="card-title">Załaduj nowy plik</h5>
                        <p class="card-text">Możesz wgrać nowy plik .xml, który następnie wgrasz do bazy danych.</p>

                        <a href="#" th:href="@{/pliki/upload}" class="btn btn-primary">Wgraj plik</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-4 col-md-6 mb-4">
            <div class="card text-center border-bottom-success shadow h-20 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="card-body">
                            <h5 class="card-title">Przeglądaj raporty</h5>
                            <p class="card-text">W każdej chwili możesz przejrzeć aktualnie zgrane raporty. Są gotowe do pobrania a ich zawartość do wyświetlenia.</p>
                            <a href="#" th:href="@{/raport/pokazWszystkie}" class="btn btn-success">Sprawdź raporty</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-4 col-md-6 mb-4">
            <div class="card  border-left-info shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="card-body">
                            <h5 class="card-title">Zbiór wszystkich plików</h5>
                            <p class="card-text">Możesz przeglądać wszystkie dostępne pliki oraz je pobierać. Przy każdym pliku jest dostępna funkcja wygenerowania raportu z danych z pliku.</p>
                            <p class="card-text">Aplikacja przetworzy informacje, które potem możesz dowolnie wybrać i pobrać.</p>
                            <a href="#" th:href="@{/pliki/pokazWszystkie}" class="btn btn-info">Sprawdź pliki</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Row -->

    <div class="row">

    </div>

    <!-- Content Row -->
    <div class="row">

        <!-- Content Column -->
        <div class="col-lg-6 mb-4">

        </div>
    </div>
</div>
<div th:fragment="defaultdiagnostyka">
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Centrum</h1>
    </div>

    <!-- Content Row -->
    <div class="row">

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-4 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-20 py-2">
                <div class="card-body">
                    <div class="card-body">
                        <h5 class="card-title">Załaduj nowy plik</h5>
                        <p class="card-text">Możesz wgrać nowy plik .xml(raport z programu zewnętrznego. Plik zostanie zapisany na serwerze.</p>

                        <a href="#" th:href="@{/pliki/upload}" class="btn btn-primary">Wgraj plik</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-4 col-md-6 mb-4">
            <div class="card text-center border-bottom-success shadow h-20 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="card-body">
                            <h5 class="card-title">Możesz usuwać tylko swoje pliki!</h5>
                            <p class="card-text">W każdej chwili możesz przejrzeć aktualnie wgrane pliki. Są gotowe do pobrania.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-4 col-md-6 mb-4">
            <div class="card  border-left-info shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="card-body">
                            <h5 class="card-title">Zbiór wszystkich plików</h5>
                            <p class="card-text">Możesz przeglądać wszystkie dostępne pliki oraz je pobierać</p>
                            <a href="#" th:href="@{/pliki/pokazWszystkie}" class="btn btn-info">Sprawdź pliki</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Row -->

    <div class="row">

    </div>

    <!-- Content Row -->
    <div class="row">

        <!-- Content Column -->
        <div class="col-lg-6 mb-4">

        </div>
    </div>
</div>
<div th:fragment="edytuj">
    <div class="container light-style flex-grow-1 container-p-y">
        <form  th:action="@{/save-profile/{u} (u=${user.getUsername()})}" th:object="${userDto}" th:method="POST" enctype="multipart/form-data" multiple="multiple" class="needs-validation" novalidate >
        <h4 class="font-weight-bold py-3 mb-4">
            Ustawienia użytkownika
        </h4>
            <div th:if="${#ctx.containsVariable('ErrorMessage')}" th:text="${ErrorMessage}" class="alert alert-danger text-center" onautocomplete=""></div>
        <div class="card overflow-hidden">
            <div class="row no-gutters row-bordered row-border-light">
                <div class="col-md-3 pt-0">
                    <div class="list-group list-group-flush account-settings-links">
                        <a class="list-group-item list-group-item-action active" data-toggle="list" href="#account-general">Ogólne</a>
                        <!--
                        <a class="list-group-item list-group-item-action" data-toggle="list" href="#account-change-password">Zmień hasło</a>
                        -->
                        <a class="list-group-item list-group-item-action" data-toggle="list" href="#account-info">Informacje</a>
                        <a class="list-group-item list-group-item-action" data-toggle="list" href="#account-notifications">Powiadomienia</a>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="tab-content">
                        <div class="tab-pane fade active show" id="account-general">

                            <div class="card-body media align-items-center">
                                <img th:src="*{'data:image/png;base64,'+ getByte64Image()}" class="d-block ui-w-80 rounded-circle" >
                                <img id="imageResult" src="#" alt="" class="d-block ui-w-80 rounded-circle">
                                <div class="media-body ml-4">
                                    <label class="btn btn-outline-primary">
                                        Dodaj nowe zdjęcie
                                        <input onchange="readURL(this);" type="file" th:field="*{image}" class="account-settings-fileinput" >
                                    </label>
                                    <button id="btnDelete1" type="button" class="btn btn-default md-btn-flat">Resetuj</button>
                                    <div class="text-light small mt-1">Dozwolone JPG, GIF or PNG. Rozmiar < 800K</div>
                                </div>
                            </div>
                            <hr class="border-light m-0">

                            <div class="card-body">
                                <div class="form-group">
                                    <label class="form-label">Nazwa użytkownika</label>
                                    <input type="text" class="form-control mb-1" th:field="*{username}" readonly>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Imię</label>
                                    <input type="text" class="form-control" th:field="*{firstName}" required>
                                    <div class="valid-feedback">
                                        Imię wygląda dobrze!
                                    </div>
                                    <div  class="invalid-feedback">
                                        To nie wygląda mi na imię.
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Nazwisko</label>
                                    <input type="text" class="form-control"th:field="*{lastName}"  required>
                                    <div class="valid-feedback">
                                        Nazwisko wygląda dobrze!
                                    </div>
                                    <div  class="invalid-feedback">
                                        To nie wygląda mi na nazwisko.
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">E-mail</label>
                                    <input type="text" class="form-control mb-1"th:field="*{email}" readonly>
                                    <!--
                                    <div class="alert alert-warning mt-3">
                                        Twój adres e-mail nie jest potwierdzony! Sprawdź pocztę<br>
                                        <a href="javascript:void(0)">Wyślij ponownie potwiedzenie</a>
                                    </div>
                                    -->
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Firma</label>
                                    <input type="text" class="form-control" value="PTHW sp. z o.o." readonly>
                                </div>
                            </div>

                        </div>
                        <!--
                        <div class="tab-pane fade" id="account-change-password">
                            <div class="card-body pb-2">

                                <div class="form-group">
                                    <label class="form-label">Aktualne hasło</label>
                                    <input type="password" th:field="*{currentPassword}" class="form-control">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Nowe hasło</label>
                                    <input type="password"th:field="*{newPassword}" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,15}$" class="form-control">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Powtórz nowe hasło</label>
                                    <input type="password" th:field="*{repeatNewPassword}" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,15}$" class="form-control">
                                </div>

                            </div>
                        </div>
                        -->
                        <div class="tab-pane fade" id="account-info">
                            <div class="card-body pb-2">

                                <div class="form-group">
                                    <label class="form-label">O mnie</label>
                                    <textarea class="form-control" rows="5">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris nunc arcu, dignissim sit amet sollicitudin iaculis, vehicula id urna. Sed luctus urna nunc. Donec fermentum, magna sit amet rutrum pretium, turpis dolor molestie diam, ut lacinia diam risus eleifend sapien. Curabitur ac nibh nulla. Maecenas nec augue placerat, viverra tellus non, pulvinar risus.</textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Urodziny</label>
                                    <input type="date" class="form-control" th:field="*{birthDate}" >
                                    <div class="valid-feedback">
                                        Data urodzin wygląda dobrze!
                                    </div>
                                    <div  class="invalid-feedback">
                                        Wpisz poprawną datę urodzin.
                                    </div>
                                </div>
                            </div>
                            <hr class="border-light m-0">
                            <div class="card-body pb-2">

                                <h6 class="mb-4">Dane kontatkowe</h6>
                                <div class="form-group">
                                    <label class="form-label">Telefon</label>
                                    <input id="phone-number" type="text" class="form-control" th:field="*{telNumber}" pattern="[0-9]{3}-[0-9]{3}-[0-9]{3}">
                                    <div class="valid-feedback">
                                        Numer telefonu poprawny!
                                    </div>
                                    <div  class="invalid-feedback">
                                        Wpisz poprawny numer telefonu.
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="tab-pane fade" id="account-notifications">
                            <div class="card-body pb-2">

                                <h6 class="mb-4">Aktywność</h6>

                                <div class="form-group">
                                    <label class="switcher">
                                        <input type="checkbox" class="switcher-input" checked="">
                                        <span class="switcher-indicator">
                                            <span class="switcher-yes"></span>
                                            <span class="switcher-no"></span>
                                        </span>
                                        <span class="switcher-label">Wyślij mi e-mail, gdy ktoś wyśle mi wiadomość</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="switcher">
                                        <input type="checkbox" class="switcher-input" checked="">
                                        <span class="switcher-indicator">
                                            <span class="switcher-yes"></span>
                                            <span class="switcher-no"></span>
                                        </span>
                                        <span class="switcher-label">Wyślij mi e-mail, gdy otrzymam alert</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="switcher">
                                        <input type="checkbox" class="switcher-input">
                                        <span class="switcher-indicator">
                                            <span class="switcher-yes"></span>
                                                <span class="switcher-no"></span>
                                            </span>
                                        <span class="switcher-label">Wyślij mi e-mail, gdy zostanie dodany nowy raport</span>
                                    </label>
                                </div>
                            </div>
                            <hr class="border-light m-0">
                            <div class="card-body pb-2">

                                <h6 class="mb-4">System</h6>

                                <div class="form-group">
                                    <label class="switcher">
                                        <input type="checkbox" class="switcher-input" checked="">
                                        <span class="switcher-indicator">
                                            <span class="switcher-yes"></span>
                                            <span class="switcher-no"></span>
                                        </span>
                                        <span class="switcher-label">Alert, gdy nie dodano żadnego raportu od 20 dni</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="switcher">
                                        <input type="checkbox" class="switcher-input">
                                        <span class="switcher-indicator">
                                            <span class="switcher-yes"></span>
                                            <span class="switcher-no"></span>
                                        </span>
                                        <span class="switcher-label">Alert, gdy nie ......</span>
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="switcher">
                                        <input type="checkbox" class="switcher-input" checked="">
                                        <span class="switcher-indicator">
                                            <span class="switcher-yes"></span>
                                            <span class="switcher-no"></span>
                                        </span>
                                        <span class="switcher-label">Alert, gdy nie ......</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-right mt-3">
            <button type="submit" name="action" value="save" class="btn btn-primary">Zapisz zmiany</button>&nbsp;
            <button type="cancel" name="action" value="cancel" class="btn btn-warning">Anuluj</button>
        </div>
        </form>
    </div>

</div>
<div th:fragment="upload">
    <div class="container light-style flex-grow-1 container-p-y">
        <h4 class="font-weight-bold py-2 mb-4">
            Przesyłanie raportu
        </h4>
        <p class="mb-4">Przesłany raport musi być w formacie .xml</p>
        <div th:if="${successMsg}">
            <div class="alert alert-success"th:text="${successMsg}">Plik załadowano pomyślnie!</div>
        </div>
        <div th:if="${errorMsg}">
            <div class="alert alert-danger"th:text="${errorMsg}">Błąd zapisu pliku!</div>
        </div>
        <div th:if="${cancelMsg}">
            <div class="alert alert-info"th:text="${cancelMsg}">Anulowano wgrywanie pliku!</div>
        </div>
        <form  th:action="@{/pliki/upload/post}" th:object="${raportDto}" th:method="POST" enctype="multipart/form-data"  novalidate>
            <div class="row">
                <div class="col-lg-4">
                    <div class="form-group">
                        <input th:field="*{name}" type="text" class="form-control" id="name" placeholder="Wpisz nazwę pomocniczą" required>
                        <label for="name">Nazwa pliku</label>
                    </div>
                </div>
                <div class="col-lg-8">
                    <div class="form-group">
                        <div class="media-body ml-4">

                            <label class="btn btn-outline-primary">
                                <input id="plik" type="file" th:field="*{raport}" class="account-settings-fileinput" required>

                            </label>

                        </div>
                    </div>
                </div>

            </div>




                <button type="submit" name="action" value="cancel" class="btn btn-default md-btn-flat">Anuluj</button>
                <button type="submit" name="action" value="save" class="btn btn-primary">Dodaj</button>&nbsp;
        </form>

    </div>
</div>
<div th:fragment="wyswietlTabliceRap">
        <div class="card shadow mb-4">
            <div class="card-header py-3">
                <h6 class="m-0 font-weight-bold text-primary">Lista raportów</h6>
            </div>
            <div th:if="${successMsg}">
                <div class="alert alert-success"th:text="${successMsg}"></div>
            </div>
            <div th:if="${errorMsg}">
                <div class="alert alert-danger"th:text="${errorMsg}"></div>
            </div>
            <div th:if="${cancelMsg}">
                <div class="alert alert-info"th:text="${cancelMsg}"></div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nazwa</th>
                            <th>Data Utworzenia</th>
                            <th>ID kontrahentów</th>
                            <th>ID rejestrów sprzedaży</th>
                            <th>Suma wartości paragonów</th>
                            <th>Suma wartości faktur vat</th>
                            <th>Akcja</th>
                        </tr>
                        </thead>
                        <tfoot>
                        <tr>
                            <th>ID</th>
                            <th>Nazwa</th>
                            <th>Data Utworzenia</th>
                            <th>ID kontrahentów</th>
                            <th>ID rejestrów sprzedaży</th>
                            <th>Suma wartości paragonów</th>
                            <th>Suma wartości faktur vat</th>
                            <th>Akcja</th>
                        </tr>
                        </tfoot>
                        <tbody>
                        <tr th:each="rap, iterStat: ${raporty}">
                            <td th:text="${rap.getId()}"></td>
                            <td th:text="${rap.getNazwa()}"></td>
                            <td th:text="${rap.getDataUtworzenia()}"></td>
                            <td th:text="${rap.getKontrahenci().getId()}"></td>
                            <td th:text="${rap.getRejestrySprzedazyVat().getId()}"></td>
                            <td th:text="${raportService.getAllParagonIncomeByRaportId(rap.getRejestrySprzedazyVat().getId()) + ' .zł'}"></td>
                            <td th:text="${raportService.getAllFakturaIncomeByRaportId(rap.getRejestrySprzedazyVat().getId())+ ' .zł'}"></td>
                            <td>
                                <div class="btn-group btn-block">
                                    <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Akcja
                                    </button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="/" th:href="@{/raport/usunRaport/{id} (id=${rap.getId()})}">Usuń</a>
                                        <a class="dropdown-item" href="/" th:href="@{/raport/createFileFromRaport/{id} (id=${rap.getId()})}">Utwórz plik z tego</a>
                                        <a class="dropdown-item" href="/" th:href="@{/raport/createFileFromRaportExtra/{id} (id=${rap.getId()})}">Utwórz plik STACJ z tego</a>
                                        <a class="dropdown-item" href="#">Pokaż więcej info</a>
                                        <div class="dropdown-divider"></div>
                                        <a class="dropdown-item" href="/" th:href="@{/raport/pokaz/{id} (id=${rap.getId()})}"></a>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
</div>
<div th:fragment="wyswietlTablicePlik">
    <div class="card shadow mb-4">
        <div class="card-header d-sm-flex align-items-center justify-content-between py-3">
            <h6 class="m-0 font-weight-bold text-primary">Lista plików</h6>
            <a href="#" th:href="@{/pliki/upload}" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
                    class="fas fa-download fa-sm text-white-50"></i> Dodaj plik</a>
        </div>
        <div th:if="${successMsg}">
            <div class="alert alert-success"th:text="${successMsg}"></div>
        </div>
        <div th:if="${errorMsg}">
            <div class="alert alert-danger"th:text="${errorMsg}"></div>
        </div>
        <div th:if="${cancelMsg}">
            <div class="alert alert-info"th:text="${cancelMsg}"></div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable1" width="100%" cellspacing="0">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nazwa</th>
                        <th>Data Utworzenia</th>
                        <th>ID twórcy</th>
                        <th>Typ</th>
                        <th>Akcja</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Nazwa</th>
                        <th>Data Utworzenia</th>
                        <th>ID twórcy</th>
                        <th>Typ</th>
                        <th>Akcja</th>
                    </tr>
                    </tfoot>
                    <tbody>
                    <tr th:each="plik, iterStat: ${pliki}">
                        <td th:text="${plik.getId()}"></td>
                        <td th:text="${plik.getName()}"></td>
                        <td th:text="${plik.getDataPrzeslania()}"></td>
                        <td th:text="${plik.getUser().getId()}"></td>
                        <td th:text="${plik.getType()}"></td>
                        <td>
                            <div class="btn-group btn-block">
                                <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Akcja
                                </button>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="/" th:href="@{/raport/createFromFile/{id} (id=${plik.getId()})}">Utwórz raport</a>
                                    <a class="dropdown-item" href="/" th:href="@{/pliki/usun/{id} (id=${plik.getId()})}">Usuń</a>
                                    <a class="dropdown-item" href="/" th:href="@{/pliki/pobierz/{id} (id=${plik.getId()})}">Pobierz</a>
                                    <a class="dropdown-item" href="#">Pokaż więcej info</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="/" th:href="@{/plik/pokaz/{id} (id=${plik.getId()})}"></a>
                                </div>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div th:fragment="wyswietlPlikInfo">
    <div class="card shadow mb-4">
        TEST
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary"></h6>
        </div>
        <div class="card-body" id="pack">


        </div>
    </div>


</div>
<div th:fragment="wyswietlDodajNowyItem">
    <div class="container-flex mx-5">
        <form  th:action="@{/item/add/save}" th:object="${itemDto}" th:method="POST" enctype="multipart/form-data" multiple="multiple" class="needs-validation" novalidate>
            <div class="row no-gutters">
                <div class="card col-lg-3 bg-transparent border-0  my-5 py-4 px-5 ">
                    <div th:if="${#ctx.containsVariable('ErrorMessage')}"  class="alert-danger alert card border-alert mb-3">
                        <div class="card-body">
                            <h5  class="card-title">Błąd!</h5>
                            <p  th:text="${ErrorMessage}" class="card-text"></p>
                        </div>
                    </div>
                    <div th:if="${#ctx.containsVariable('SuccessMessage')}"  class="alert-success alert border-alert mb-3">
                        <div class="card-body">
                            <h5  class="card-title">Sukces!</h5>
                            <p  th:text="${SuccessMessage}" class="card-text"></p>
                        </div>
                    </div>
                    <div id="collapse1" class="card border-alert mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Dodaj nowy upominek,</h5>
                            <p class="card-text">aby można było monitorowac jego ilość.</p>
                        </div>
                    </div>

                    <div id="collapse2" class="card border-alert mb-3 ">
                        <div class="card-body">
                            <h5 class="card-title">Diagności będą mogli,</h5>
                            <p class="card-text">wydawać po badaniach technicznych.</p>
                        </div>
                    </div>
                    <div id="collapse3" class="card border-alert mb-3 ">
                        <div class="card-body">
                            <h5 class="card-title">Zdjęcie upominku,</h5>
                            <p class="card-text">nie jest wymagane.</p>
                        </div>
                    </div>
                </div>
                <div class="card col-lg-6 o-hidden border-2 shadow-lg py-1 my-5">

                    <div class="card-body p-0">
                        <!-- Nested Row within Card Body -->
                        <div class="col-lg">
                            <div class="p-5">
                                <div class="text-center">
                                    <h1 class="h4 text-gray-900 mb-4">Dodaj nowy upominek</h1>
                                </div>

                                <div class="form-floating mb-3">
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('name')}"
                                         th:each="error : ${#fields.errors('name')}" th:text="${error}">
                                    </div>
                                    <input th:field="*{name}" class="form-control" id="name" placeholder="Wpisz nazwe produktu" required>
                                    <label for="name">Nazwa</label>
                                </div>

                                <div class="form-floating mb-3">
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('tag')}"
                                         th:each="error : ${#fields.errors('tag')}" th:text="${error}">
                                    </div>
                                    <input th:field="*{tag}" class="form-control" id="tag"placeholder="Wpisz krótki skrót nazwy przedmiotu(max 4 litery)" required>
                                    <label for="tag">Tag</label>
                                </div>

                                <div class="form-floating">
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('description')}"
                                         th:each="error : ${#fields.errors('description')}" th:text="${error}">
                                    </div>
                                    <textarea th:field="*{description}" class="form-control" rows="2" placeholder="Wpisz tutaj treść" id="description" required></textarea>
                                    <label for="description">Opis</label>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('quantity')}"
                                             th:each="error : ${#fields.errors('quantity')}" th:text="${error}">
                                        </div>
                                        <input th:field="*{quantity}" class="form-control" type="number" value="42" id="quantity">
                                        <label for="quantity">Początkowa ilość</label>
                                    </div>

                                    <div class="form-group col-md-8">
                                        <div class="mx-auto">
                                            <input type="submit" class="btn btn-primary btn-user btn-block" value="Zapisz zmiany">
                                        </div>

                                    </div>

                                </div>
                                <hr>
                                <label >(Opcjonalne)</label>

                                <div class="form-floating mb-2">
                                    <div class="custom-file">
                                        <input onchange="readURL(this);" th:field="*{image}" type="file" class=" upload custom-file-input" id="upload" >
                                        <label class="custom-file-label small" for="upload" data-browse="Wybierz">Dozwolone JPG, JPEG lub PNG. Rozmiar < 800K</label>
                                        <label for="upload">Dodaj zdjęcie</label>
                                    </div>
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('image')}"
                                         th:each="error : ${#fields.errors('image')}" th:text="${error}">
                                    </div>
                                </div>

                                <div class="form-floating col-lg-6 offset-lg-3">
                                    <div class="row justify-content-center">
                                        <img id="imageResult" src="#" alt="" class="d-block ui-w-80 rounded-circle">
                                    </div>

                                </div>



                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

</div>
<div th:fragment="wyswietlWydajItem">
    <div class="container-flex mx-5">
        <form  th:action="@{/item/give/save}" th:object="${wydajItemDto}" th:method="POST" class="needs-validation" novalidate >
            <div class="row no-gutters">
                <div class="card col-lg-3 bg-transparent border-0  my-5 py-4 px-5 ">
                <div id="collapse1" class="card border-alert mb-3">
                    <div class="card-body">
                        <h5 class="card-title">Wydaj przedmiot</h5>
                        <p class="card-text">po badaniu technicznym.</p>
                    </div>
                </div>

                <div id="collapse2" class="card border-alert mb-3 ">
                    <div class="card-body">
                        <h5 class="card-title">Pamiętaj!</h5>
                        <p class="card-text">aby wpisać poprawne dane! </p>
                    </div>
                </div>
                <div id="collapse3" class="">
                    <!--
                    <div class="card-body">
                        <h5 class="card-title">Potwierdzenie adresu e-mail</h5>
                        <p class="card-text">znajdzie się na jego skrzynce e-mail.</p>
                    </div>
                    -->
                </div>
            </div>
                <div class="card col-lg-6 o-hidden border-2 shadow-lg py-1 my-5">
                <div  class="card-body p-0">
                    <div class="col-lg">
                        <div class="p-5">
                            <div class="text-center">
                                <h1 class="h4 text-gray-900 mb-4">Wybierz przedmiot do wydania</h1>
                            </div>
                            <div class="form-floating mb-3">
                                <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('numerBadania')}"
                                     th:each="error : ${#fields.errors('numerBadania')}" th:text="${error}">
                                </div>
                                <input th:field="*{numerBadania}" type="text" class="form-control" id="numerBadania" placeholder="Wpisz numer dokumentu..." required>
                                <label for="numerBadania">Numer Badania</label>
                            </div>
                            <div class="row">
                                <div class="col-lg-8">
                                    <div class="form-group">
                                        <div style="overflow:hidden;" >
                                            <select data-size="5" data-container="body" th:field="*{itemStorageId}" data-width="90%" id="itemStorageId" class="selectpicker" data-live-search="true" title="Wybierz przedmiot..." required>
                                                <option th:each="item : ${itemStorageList}" th:value="${item.getStringId()}" th:text="${item.getItem().getName()}">
                                            </select>
                                        </div>
                                        <label for="itemStorageId">Nazwa przedmiotu</label>
                                        <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('itemStorageId')}"
                                             th:each="error : ${#fields.errors('itemStorageId')}" th:text="${error}">
                                        </div>

                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="form-group " >
                                        <input th:field="*{quantity}" class="custom form-control" type="number" value="1" min="1" id="quantity" required>
                                        <label for="quantity">Wydawana ilość</label>

                                        <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('quantity')}"
                                             th:each="error : ${#fields.errors('quantity')}" th:text="${error}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="mx-auto">
                                    <input type="submit" class="btn btn-primary btn-user btn-block" value="Wydaj upominek">
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
                <div class="card col-lg-3 bg-transparent border-0  my-5 py-4 px-5 ">
                    <div th:if="${#ctx.containsVariable('ErrorMessage')}"  class="alert-danger alert card border-alert mb-3">
                        <div class="card-body">
                            <h5  class="card-title">Błąd!</h5>
                            <p  th:text="${ErrorMessage}" class="card-text"></p>
                        </div>
                    </div>
                    <div th:if="${#ctx.containsVariable('SuccessMessage')}"  class="alert-success alert border-alert mb-3">
                        <div class="card-body">
                            <h5  class="card-title">Sukces!</h5>
                            <p  th:text="${SuccessMessage}" class="card-text"></p>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

</div>
<div th:fragment="wyswietlListeItem">
    <div class="card shadow mb-4">

        <div class="card-header d-sm-flex align-items-center justify-content-between py-3">
            <h6 class="m-0 font-weight-bold text-primary">Lista upominków</h6>
            <div class=" d-flex flex-md-row justify-content-around ">
                <h6 class="px-2 my-3 font-weight-bold text-primary">Wyszukaj przedmiot</h6>
                <div class="rounded bg-primary d-flex flex-md-row justify-content-between ">

                    <div class="p-2" style=" overflow:hidden;" >
                        <select data-size="5" id="select" data-container="body" data-width="100%"  class="selectpicker" data-live-search="true" title="Wyszukaj przedmiot..." required>
                            <option th:each="item : ${storageList}" th:value="${item.getStringId()}" th:text="${item.getItem().getName()}">
                        </select>
                    </div>
                    <div class="p-2">
                        <a id="mybutton" href="#"  class="btn btn-warning btn-user btn-block"><i
                                class="fas fa-search fa-sm text-white-50"></i> Wyświetl</a>
                        <!--<input type="submit" id="mybutton" class="btn btn-primary btn-user btn-block" value="Pokaż">-->
                    </div>
                </div>
            </div>
            <a href="#" th:href="@{/item/add}" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"><i
                    class="fas fa-download fa-sm text-white-50"></i> Dodaj nowy upominek</a>
        </div>
        <div class="card-body">
            <div th:if="${#ctx.containsVariable('ErrorMessage')}" th:text="${ErrorMessage}" class="alert alert-danger text-center" onautocomplete=""></div>

            <div th:if="${#ctx.containsVariable('SuccessMessage')}" th:text="${SuccessMessage}" class="alert alert-info text-center"></div>
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable1" width="100%" cellspacing="0">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nazwa</th>
                        <th>Tag</th>
                        <th>Aktualna ilość</th>
                        <th>Ilość początkowa</th>
                        <th>Data dodania</th>
                        <th>Data modyfikacji</th>
                        <th>Dodany przez</th>
                        <th>Zdjęcie</th>
                        <th>Akcja</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Nazwa</th>
                        <th>Tag</th>
                        <th>Aktualna ilość</th>
                        <th>Ilość początkowa</th>
                        <th>Data dodania</th>
                        <th>Data modyfikacji</th>
                        <th>Dodany przez</th>
                        <th>Zdjęcie</th>
                        <th>Akcja</th>
                    </tr>
                    </tfoot>
                    <tbody>
                    <tr th:each="item, iterStat: ${storageList}">
                        <td th:text="${item.getId()}"></td>
                        <td th:text="${item.getItem().getName()}"></td>
                        <td th:text="${item.getItem().getTag()}"></td>
                        <td th:text="${item.getActualQuantity()}"></td>
                        <td th:text="${item.getQuantity()}"></td>
                        <td th:text="${#temporals.format(item.getTimeCreated(), 'HH:mm dd-MM-yyyy')}"></td>
                        <td th:text="${#temporals.format(item.getTimeUpdated(), 'HH:mm dd-MM-yyyy')}"></td>
                        <td th:text="${item.getItem().getUser().getUsername()}"></td>
                        <td><img width="30" height="30" class="img-profile rounded-circle" th:attr="src=@{${item.getItem().getByte64Image()}}"></td>
                        <td>
                            <div class="btn-group btn-block">
                                <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Akcja
                                </button>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="/" th:href="@{/item/info/{id} (id=${item.getId()})}">Pokaż więcej</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="/" th:href="@{/item/delete/{id} (id=${item.getId()})}">Usuń</a>
                                    <a class="dropdown-item" href="/" th:href="@{/item/edit/{id} (id=${item.getId()})}">Edytuj</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>
<div th:fragment="wyswietlEditItem">
    <div class="container-flex mx-5">
        <form  th:action="@{/item/edit/save/{id} (id=${idTemp})} " th:object="${itemDto}" th:method="POST" enctype="multipart/form-data" multiple="multiple" class="needs-validation" novalidate>
            <div class="row no-gutters">
                <div class="card col-lg-3 bg-transparent border-0  my-5 py-4 px-5 ">
                    <div th:if="${#ctx.containsVariable('ErrorMessage')}"  class="alert-danger alert card border-alert mb-3">
                        <div class="card-body">
                            <h5  class="card-title">Błąd!</h5>
                            <p  th:text="${ErrorMessage}" class="card-text"></p>
                        </div>
                    </div>
                    <div th:if="${#ctx.containsVariable('SuccessMessage')}"  class="card alert border-alert mb-3">
                        <div class="card-body">
                            <h5  class="card-title">Sukces!</h5>
                            <p  th:text="${SuccessMessage}" class="card-text"></p>
                        </div>
                    </div>
                    <div id="collapse1" class="card border-alert mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Możesz zmienić</h5>
                            <p class="card-text">dane upominka.</p>
                        </div>
                    </div>

                    <div id="collapse2" class="card border-alert mb-3 ">
                        <div class="card-body">
                            <h5 class="card-title">Jeśli zmienisz ilość,</h5>
                            <p class="card-text">zostanie ona nadpisana.</p>
                        </div>
                    </div>
                    <div id="collapse3" class="">

                        <div class="card-body">
                            <h5 class="card-title">Operacji </h5>
                            <p class="card-text">nie można cofnąć!</p>
                        </div>

                    </div>
                </div>
                <div class="card col-lg-6 o-hidden border-2 shadow-lg py-1 my-5">

                    <div class="card-body p-0">
                        <!-- Nested Row within Card Body -->
                        <div class="col-lg">
                            <div class="p-5">
                                <div class="text-center">
                                    <h1 class="h4 text-gray-900 mb-4">Edytuj upominek</h1>
                                </div>

                                <div class="form-floating mb-3">
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('name')}"
                                         th:each="error : ${#fields.errors('name')}" th:text="${error}">
                                    </div>
                                    <input th:field="*{name}" class="form-control" id="name" placeholder="Wpisz nazwe produktu" required>
                                    <label for="name">Nazwa</label>
                                </div>

                                <div class="form-floating mb-3">
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('tag')}"
                                         th:each="error : ${#fields.errors('tag')}" th:text="${error}">
                                    </div>
                                    <input th:field="*{tag}" class="form-control" id="tag"placeholder="Wpisz krótki skrót nazwy przedmiotu(max 4 litery)" required>
                                    <label for="tag">Tag</label>
                                </div>

                                <div class="form-floating">
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('description')}"
                                         th:each="error : ${#fields.errors('description')}" th:text="${error}">
                                    </div>
                                    <textarea th:field="*{description}" class="form-control" rows="2" placeholder="Wpisz tutaj treść" id="description" required></textarea>
                                    <label for="description">Opis</label>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('quantity')}"
                                             th:each="error : ${#fields.errors('quantity')}" th:text="${error}">
                                        </div>
                                        <input th:field="*{quantity}" class="form-control" type="number" value="42" id="quantity" readonly>
                                        <label for="quantity">Początkowa ilość</label>
                                    </div>

                                    <div class="form-group col-md-8">
                                        <div class="mx-auto">
                                            <input type="submit" class="btn btn-primary btn-user btn-block" value="Zapisz zmiany">
                                        </div>

                                    </div>

                                </div>
                                <hr>
                                <label >(Opcjonalne)</label>

                                <div class="form-floating mb-2">
                                    <div class="custom-file">
                                        <input onchange="readURL(this);" th:field="*{image}" type="file" class=" upload custom-file-input" id="upload " >
                                        <label class="custom-file-label small" for="upload " data-browse="Wybierz">Dozwolone JPG, JPEG lub PNG. Rozmiar < 800K</label>
                                        <label for="upload ">Dodaj zdjęcie</label>
                                    </div>
                                    <div class="error-message alert alert-danger" th:if="${#fields.hasErrors('image')}"
                                         th:each="error : ${#fields.errors('image')}" th:text="${error}">
                                    </div>
                                </div>

                                <div class="form-floating col-lg-6 offset-lg-3">
                                    <div class="row justify-content-center">
                                        <img id="imageResult" th:attr="src=@{${itemFoto.getItem().getByte64Image()}}" alt="" class="d-block ui-w-80 rounded-circle">
                                    </div>

                                </div>



                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

</div>
<div th:fragment="wyswietlShowItem">
    <div class="container-flex mx-5">
            <div class="row no-gutters">
                <div class="card col-lg-3 bg-transparent border-0  my-5 py-4 px-5 ">
                    <div id="collapse1" class="card border-alert mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Aktualna ilość</h5>
                            <p th:text="${itemStorage.getActualQuantity()+ ' szt.'}" class="card-text">Aktualna ilość</p>
                        </div>
                    </div>

                    <div id="collapse2" class="card border-alert mb-3 ">
                        <div class="card-body">
                            <h5 class="card-title">Ilość od pierwszego dodania</h5>
                            <p th:text="${itemStorage.getQuantity()+ ' szt.'}" class="card-text">500 szt.</p>
                        </div>
                    </div>
                    <div id="collapse3" class="card border-alert mb-3 ">

                        <div class="card-body">
                            <h5 class="card-title">Data ostatniej modyfikacji</h5>
                            <p th:text="${#temporals.format(itemStorage.getTimeUpdated(), 'HH:mm') + ' w dniu '+ #temporals.format(itemStorage.getTimeUpdated(), 'dd-MM-yyyy')}" class="card-text"></p>
                        </div>

                    </div>
                </div>
                <div class="card col-lg-6 o-hidden border-2 shadow-lg py-1 my-5">

                    <div class="card-body p-0">
                        <!-- Nested Row within Card Body -->
                        <div class="col-md">
                            <div class="p-5">
                                <div class="text-center">
                                    <h1 th:text="${itemStorage.getItem().getName()}" class="h1 text-gray-900 mb-4">Nazwa</h1>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="card">
                                            <div class="card-header">
                                                <h4>Opis</h4>
                                            </div>
                                            <div class="card-body">
                                                <h2 th:text="${itemStorage.getItem().getDescription()}" class="h4 text-gray-900 "></h2>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <form th:action="@{/item/addQuantity/save/{id} (id=${itemStorage.getId()})}" th:object="${qDto}" th:method="POST">
                                            <div class="mt-5 card text-center">

                                                <div class="card-header">
                                                    Ustaw nową wartość dostępnej ilości
                                                </div>
                                                <ul class="list-group list-group-flush">
                                                    <li class="list-group-item">Wpisz wartość poniżej</li>
                                                    <div th:if="${#ctx.containsVariable('ErrorMessage')}">
                                                        <li class=" alert-danger alert border-alert list-group-item">
                                                            <p  th:text="${ErrorMessage}" class=""></p>
                                                        </li>
                                                    </div>
                                                    <div class="alert" th:if="${#ctx.containsVariable('SuccessMessage')}" >
                                                        <li class="list-group-item p-0">
                                                            <div class="card alert-success border-alert">
                                                                <div class="card-body">
                                                                    <h5  class="card-title">Sukces!</h5>
                                                                    <p  th:text="${SuccessMessage}" class="card-text"></p>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </div>
                                                    <li class="list-group-item">
                                                        <div class="input-group number-spinner">
				                                            <span class="input-group-btn">
					                                            <button type="button" class="btn btn-default" data-dir="dwn"><span class="fas fa-minus-square"></span></button>
                                                            </span>
                                                            <input type="text" class="form-control text-center" th:field="*{quantity}" value="1" pattern="^[0-9]*[1-9][0-9]*$">
                                                            <span class="input-group-btn">
					                                            <button type="button" class="btn btn-default" data-dir="up"><span class="fas fa-plus-square"></span></button>
				                                            </span>
                                                        </div>

                                                    </li>
                                                    <li class="list-group-item">
                                                        <input type="submit" class="btn btn-primary btn-user btn-block" value="Potwierdź">
                                                    </li>
                                                </ul>
                                            </div>
                                        </form>

                                    </div>
                                    <div class="col-sm-6">
                                        <div class="text-center card border-0">
                                            <div class="card-body ">
                                                <img class="card-img-top" th:attr="src=@{${itemStorage.getItem().getByte64Image()}}">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div th:each="rejestr : ${rejestrItemList}" class="card w-50 mb-2 ">
                                        <div class="card-body">
                                            <h5 th:text="${rejestr.getType().plName}" class="card-title">Card title</h5>
                                            <p th:text="${rejestr.getType().message}" class="card-text"></p>
                                            <p th:text="${'Osoba: ' + rejestr.getUser().getUsername()}" class="card-text"></p>
                                            <p th:text="${'Przedmiot: ' + rejestr.getItemStorage().getItem().getName()}" class="card-text"></p>
                                            <p th:text="${'Ilość: '+ rejestr.getValue()}" class="card-text"></p>
                                            <p th:if="${rejestr.getType().name()=='GIVE'}" th:text="${'Numer badania: '+ rejestr.getNumerBadania()}" class="card-text"></p>




                                            <p class="card-text"><small th:text="${#temporals.format(rejestr.getCreateDateTime(), 'HH:mm dd-MM-yyyy')}" class="text-muted">Last updated 3 mins ago</small></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card col-lg-3 bg-transparent border-0  my-5 py-4 px-5 ">
                    <div id="collapse1" class="card border-alert mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Dodany przez</h5>
                            <p th:text="${itemStorage.getItem().getUser().getFirstName()+ ' ' + itemStorage.getItem().getUser().getLastName()}" class="card-text">Jan Mazurek</p>
                        </div>
                    </div>

                    <div id="collapse2" class="card border-alert mb-3 ">
                        <div class="card-body">
                            <h5 class="card-title">Tag</h5>
                            <p th:text="${itemStorage.getItem().getTag()}" class="card-text"></p>
                        </div>
                    </div>
                    <div id="collapse3" class="card border-alert mb-3 ">

                        <div class="card-body">
                            <h5 class="card-title">Data dodania</h5>
                            <p th:text="${#temporals.format(itemStorage.getTimeCreated(), 'HH:mm') + ' w dniu '+ #temporals.format(itemStorage.getTimeCreated(), 'dd-MM-yyyy')}" class="card-text"></p>
                        </div>

                    </div>
                </div>
            </div>

    </div>

</div>
</body>

</html>
